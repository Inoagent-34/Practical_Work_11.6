  Данная программа совмещает в себе все три задания Практической работы 11.6. Для переключения между заданиями предназначен оператор MODE, определенный дерективой #define в начале программы. Для выбора компиляции фрагмента с нужным заданием следует ввести в данную строку, после макроса MODE, название нужного задания (TASK_1, TASK_2, или TASK_3 соответсвенно).
  
    Задание 1. Дан список учеников класса (классный журнал), который содержит следующие поля: фамилия ученика, имя ученика, отчество ученика, пол ученика, класс обучения, наименование предмета, оценка за урок. Заполнение классного журнала должно проводиться с консоли. В результате обработки классного журнала нужно высчитать средний балл учеников, посчитать количество учеников в классе, ранжировать учеников в классе по успеваемости, а также рассчитать зависимость успеваемости ученика от пола.
    Решение (TASK_1). В начале программы объявлена глобальная однобайтовая переменная PN (с присвоенным нулевым значением) для подсчёта количества введённых учеников, а также определён структурный тип Class и соответсвующий данному типу массив структурных переменных Pupils[10] для хранения данных об учениках, которые указаны в задании. Данный массив может хранить данные до 10 учеников. Символьные строки (т.е. Ф.И.О учеников, пол, класс обучения,  наименование предмета), содержатся в массивах типа char, оценка - в беззнаковой однобайтовой переменной Grade.
    Для записи данных в структуру с консоли предназначена процедура void Write_Chart_Pupils(void). При этом для предотвращения переполнения массива Pupils[10], перед заполнением данных, организована проверка количества введенных учеников (т.е. переменная PN). Если это количество превысит 10, произойдет переход в конец процедуры (в обход операторов ввода) и вывод сообщения о том, что новых учеников добавить невозможно. Если же количество не превышает 10, последовательно друг за другом вызываются операторы ввода scanf() для ввода данных об учениках. При этом после завершения ввода всех данных переменная  PN инкрементируется для контроля численности учеников. После этого выполнение данной процедуры завершается. 
    Для вывода данных об учениках в консоль предназначена процедура View_Chart_Pupils(void). Перед началом вывода данных производится проверка переменной  PN на нулевое значение, и если таковое имеется, выводится сообщение о том, что в списке нет ни одного ученика, после чего производится переход к концу процедуры и выход из неё. Сам вывод данных производится при помощи цикла for (от 0 до PN) и указателей на поля структуры (например, (Pupils+i)->Surname) для каждой i-ой итерации цикла.
    Процедура Ranking_Pupils(void) предназначена для ранжирования учеников в соответствии с их успеваемостью. Данный процесс реализован на основе алгоритма пузырьковой сортировки массивов. При этом внутри процедуры объявлена локальная переменная Temp структурного типа Class, которая используется для временного хранения данных о каждом из учеников в процессе сортировки. Для сортировки используется два вложенных цикла. Внешний цикл ограничивает внутренний цикл на каждом проходе. Сначала он простирается до конца массива, но после первого прохода там оказывается максимальный элемент. Внутренний цикл на следующем проходе движется до предпоследнего элемента, а затем до пред-пред-последнего — и так до тех пор, пока не остается один элемент в левой части. Производится сравнение оценки предыдущего и следующего учеников (при помощи указателей на j-е и j+1 поле Grade). При положительном результате сравнения  данные предыдущего ученика копируются в пременную Temp, затем данные из позиции следующего ученика записиываются в позицию предыдущего ученика, и наконец, в позицию предыдущего ученика записываются данные из временной переменной. Копирование содержимого структур при помощи всего лишь одной переменной структурного типа очень удобно, так как позволяет избегать многократного последовательного копирования всего содержжимого.
    Для расчета статистических данных об учениках предназначена процедура Statistic_Pupils(void). Она содержит следующие локальные переменные: AG - переменная с плавающей запятой для хранения средней оцеки (общей для мальчиков и девочек); FG, MG - переменные с плавающей запятой для хранения средних оценок для девочек и мальчиков соответственно; FID, MID - целочисленные переменные для хранения результатов сравнения (для девочек и мальчиков соответственно) при помощи функции strcmp(); FN и MN - количество девочек и мальчиков соответственно. В данной процедуре таким же образом, как и в View_Chart_Pupils, организована проверка наличия хотя бы одного ученика в списке. Если это условие выполняется, производится переход к циклу для расчета средних оценок (цикл по переменной i от 0 до PN). Внутри цикла оценки каждого i-го ученика суммируются в пременной AG (с приведением к типу float), при помощи указателя на i-е поле Grade, содержащие оценки учеников. Также здесь организовано раздельное суммирование оценок для мальчиков и девочек. Это достигается путём использования функций strcmp(), которая сравнивает содержимое i-го поля Gender с константами "F" и "M", котрые означают женский и мужской пол соответственно. При совпадении этих строк функция strcmp() возвращает нулевой результат, в противном случае результат не равен 0. Возвращаемые результаты записываются в переменные FID и MID, которые затем сравниваются с 0 и при положительном результате сравнения переменные FG и MG суммируются с значением i-го поля Grade, с приведением к типу float. После окончания цикла рассчитывается средняя оценка AG путем деления её суммированного значения на количество учеников PN и затем выводится на экран. Таким же способом рассчитываются средние оценки для мальчиков и девочек, при этом предварительно переменные FN и MN проверяются на ненулевое значение (для исключения возможности деления на 0) для случая, если список будет состоять только из мальчиков или только из девочек.
    В главной функции собраны вызовы всех перечисленных выше процедур, организованные по принципу меню. Действия программы зависят от введённой пользователем цифры, котрая хранится в переменной Menue. Для автоматического возврата к начальному меню (к заголовку) после завершения выбранной пользователем процедуры последовательность действий меню заключена в бесконечный цикл while(1). После ввода пользователем нужной цифры производитя очистка экрана и при помощи оператора переключателя switch производится выбор нужной процедуры (или последовательности процедур). При 0 производится переход к процедуре вывода списка учеников, при 1 - к процедуре ввода данных учеников с консоли, при 2 - сначала к процедуре сортировки списка, а затем - к процедуре вывода списка, при 3 - выводится количество учеников с помощью функции printf() с переменной PN, при 4 - к процедуре расчета статистических данных. Для обеспечения корректной работы переключателя в конце каждого ветвления присутствует опреатор break, по которому программа переходит в конец переключателя. Если необходимо выйти из всей программы, следует ввести цифру, отличающуюся от 0, 1, 2, 3 и 4. При этом с помощью операторов default и return производится выход из функции main(), а стало быть, из всей программы. После завершения выполнения текущих процедур (если не было команды на выход из всей программы), программа ожидает нажатия любой кнопки, что обеспечивается при помощи функции getch(), а затем очищает экран от ранее выведенной информации и возвращается к заголовку меню.

    Задание 2. В библиотеке имеется список книг. Каждая запись этого списка содержит следующие данные: Ф.И.О. автора, название книги, ISBN книги, год издания книги.
Определите, есть ли в списке книги, в названии которых содержится ключевое слово, вводимое с консоли. Если есть, то необходимо вывести на консоль указанные выше данные о книге. 
  Решение (TASK_2). Определяется структурный тип Book для хранения информации о книгах. Так же, как и в предыдущем задании, для хранения символьных строк (Surname - Ф.И.О, Title - название книги) используются массивы типа char, а для хранения числовых данных (ISBN, PD - год издания книги) - беззнаковые целочисленные переменные.
Непосредственно информация о книгах хранится в массиве List структурного типа Book.
  Для вывода на консоль всей информации о книгах служит процедура View_Chart_Books, принимающая в качестве аргумента указатель Ptr на одиночную структурную переменную типа Book. В ней при помощи функций printf() и указателей на соответствующие поля структуры производится вывод данных о книге. Таким образом, задавая при вызове данной процедуры указатель Ptr со смещением на значение, соответвующее номеру книги в списке, будет выведена вся информация о требуемой книге. 
  Для поиска нужной книги используется процедура Search_Book, принимающая в качестве аргумента указатель Keyword на массив (строку) с назанием книги, которое будет вводиться пользователем. Внутри процедуры объявлены локалные переменные: целочисленная переменная Cmp, хранящая результаты сравнения при помощи функции strcmp(); целочисленная переменная n для хранения количества книг в списке (которая рассчитывается путем деления размера всего массива структур на размер одного элемента этой структуры), указателя Ptr на структуру типа Вook. Для прохождения всех книг в списке использован цикл от 0 до расчитанного количества книг n. Внутри этого цикла производится сравнение введенного названия книги (т.е. массива Keyword) с названием текущей книги, хранящейся в структуре (т.е. указателя Ptr, смещенного на величину переменной цикла i). Если результат сравнения нулевой (т.е. названия совпали), выводится название текущей книги при помощи процедуры View_Chart_Books, аргументом которой является указатель  Ptr, смещенный на величину переменной цикла i. После этого при помощи оператора return производится выход из текущей процедуры. Если же цикл дошёл до конца и при этом введенная строка Keyword не совпала ни с одним значением в полях Title для всех книг, выводится сообщение о том, что искомая книга не найдена, после чего процедура также завершается.
  В главной функции объявлен массив Input_Str типа char для хранения введенной пользователем строки. После того, как при помощи функции scanf() пользователь введёт название, производится очистка экрана и вызывается процедура Search_Book, в которую и передаётся это введенное название. После завершения этой процедуры завершается и сама программа.
  
  Задание 3. На предприятии работает 15 сотрудников, в полях структуры должны содержаться их Ф. И. О., возраст, пол и должность. Необходимо рассчитать средний и медианный возраст сотрудников по половой принадлежности, количество мужчин и женщин, а также средний и медианный возраст всех сотрудников предприятия.
  Решение (TASK_3). Задаётся структурный тип Employee для хранения данных о сотрудниках. Аналогично предыдущим заданиям, в эти данные входят Ф.И.О, должность, идентификатор пола в виде символьных массивов и переменная Age для хранения возраста. Сами данные записаны в структурном массиве Personel[15]. 
  View_Chart - процедура для вывода на экран списка данных о сотрудниках. Принимает в качестве аргументов указатель Ptr на структурную переменную типа Employee и количество сотрудников n. При помощи цикла for и указателей на соответствующие поля со сдвигом на значение текущего номера выводятся данные о сотрудниках.
  Median - процедура для расчета медианного возраста сотрудников. Возвращает рассчитанное значение типа float. Принимает в качестве аргументов указатель на массив, содержащий набор возрастов, для которого нужно посчитать медианное значение, и размер n этого массива (сам массив имеет переменную длину с динамически выделяемой для него памятью). Содержит локальные переменные: rem, которая рассчитывается как остаток от деления на 2 переменной n  (служит для определения того, является ли количество элементов массива чётным или нечётным); и переменную temp для временного хранения данных при сортировке массива. Далее массив сортируется при помощи алгоритма пузырьковой сортировки (аналогично Заданию 1). Затем при нечётном количестве сотрудников рассчитывается и возвращается медианное значение как число, находящееся по середине отсортированного массива, а при чётном - как среднее значение из 2-х чисел, находящихся посредине отсортированного массива.
  Calculate - процедура расчета статистических данных о сотрудниках. Принимает значения: Ptr - указатель на массив структур типа Employee, DLS - размер данных (длина массива структур типа Employee). Внутрение локальные переменные: FS, MS -  переменные для хранения количества женщин и мужчин соответственно; CAA - переменная для хранения среднего возраста всех сотрудников; Cmp_1, Cmp_2 - переменные для хранения результатов сравнения строк (для женщин и мужчин соответственно); *FAS, *MAS - указатели на динамические массивы для храненя информации о возрасте (для женщин и мужчин соответственно); 
  Calculate - процедура расчета статистических данных о сотрудниках. Принимает значения: Ptr - указатель на массив структур типа Employee, DLS - размер данных (длина массива структур типа Employee). Внутрение локальные переменные: FS, MS -  переменные для хранения количества женщин и мужчин соответственно; FAA, MAA - переменные для хранения среднего возраста женщин и мужчин соответственно; CAA - переменная для хранения среднего возраста всех сотрудников; Cmp_1, Cmp_2 - переменные для хранения результатов сравнения строк (для женщин и мужчин соответственно); *FAS, *MAS - указатели на динамические массивы для храненя информации о возрасте (для женщин и мужчин соответственно); *CAS - указатель на динамический массив для храненя информации о возрасте всех сотрудников; MA - переменная для хранения результата расчета медианного возраста; j, k - переменные, хранящие длины массивов (по женщинам и мужчинам соответственно). Рассчет среднего возраста производится в цикле по пинципу, аналогичному для процедуры Statistic_Pupils из Задания 1. Вычисляются суммы возрастов FAA, MAA и САА и количества мужчин и женщин (FS и MS). Далее при помощи функций malloc() создаются указатели на области памяти для хранения динамических массивов *FAS, *MAS и  *CAS. Динамическое выделение памяти применяется в связи с тем, что количество мужчин и женщин может меняться в неопределённом соотношении. Далее эти массивы заполняются с учётом идентификатора пола ("M" и "F") и результатов сравнения. Далее производится расчет среднего возраста всех сотрудников, женщин и мужчин путем деления суммированных значений на количество соответствующих сотрудников. В конце все рассчитанные данные выводятся на консоль.

  

    
